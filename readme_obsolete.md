# Чтение QR и штрих-кодов кодов с камер

Немного о задаче (для двух камер):
- 2 камеры смотрят на продукцию с противоположных сторон
- на продукции с одной из сторон есть QR-коды и штрих-коды и видит их только 1 камера из двух
- если с продукции прочитано кодов меньше ожидаемого числа, то нужно послать запрос на сброс выбранной пачки
- если на продукции есть коды и их нужное кол-во, то их нужно отправить серверу
- изредка функции которые определяют, есть ли продукция на изображении, ошибаются --
  приходят данные с продукцией без кодов
- ...
- возможно ещё что-то, но я не помню

## Подготовка виртуального окружения для проекта (ubuntu)
```bash
# заходим в корень проекта
cd **PROJECTROOT**
# накатываем системную утилиту для создания окружений и доп. интерпретатор версии 3.9
sudo apt-get install python3-venv python3.9
# создаём окружение с нужной версией питона
virtualenv venv --python=python3.9
# активируем виртуальное окружение
. venv/bin/activate
# смотрим где находится pip (если всё хорошо, то он должен быть где-то в папке с проектом, а не в системных папках)
which pip
# аналогично
which python
# смотрим версию питона. Должна быть 3.9.* (* - какое-то другое число)
python -V
# ставим зависимости внутри окружения
pip install -r requirements.txt
```

## Запуск
```bash
# заходим в корень проекта
cd **PROJECTROOT**
# активируем виртуальное окружение
. venv/bin/activate
# запускаем сканирование с одной камеры
python run_with_1_camera.py
# или с двух камер
python run_with_2_cameras.py
```

## Как это +- работает?
- Запускается 1 или 2 (в зависимости от выбранного скрипта запуска) процесса, каждый из которых подключается к указанной в `.env` камере
- Каждый процесс независимо обрабатывает видео и определяет, когда на камере обнаруживается продукция
- Всё время, пока определяется продукция, с неё пытаются считывать QR и штрих-коды
- Под конец считывания (когда продукция исчезает с кадра) подводятся итоги и все коды отправляются главному процессу
- Главный процесс синхронихирует и валидирует данные, полученные от дочерних и принимает решение о дальнейшем действии
- Главный процесс фиксирует коды продукции или отправляет её на сброс
- и так непрерывно...

TODO: расписать как работает распознавание

TODO: расписать систему event'ов `;(`
